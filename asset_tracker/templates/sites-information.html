<!DOCTYPE html>
<html lang="{{ locale }}">
    <head>
        <title>Site</title>
        <link rel="stylesheet" href="/static/styles/{{ branding }}.min.css">
    </head>
    <style>
        html {
            height: auto;
        }
    </style>
    <body class="site-info-body">
        {% if name or site_type or contact or phone or email %}
            <div class="site-info">
                {% if name %}<p> <span class="glyphicon glyphicon-map-marker"></span> {{ name }}</>{% endif %}
                {% if site_type %}<p><span class="glyphicon glyphicon-info-sign"></span> {{ gettext(site_type) }}</p>{% endif %}
                {% if contact %}<p><span class="glyphicon glyphicon-user"></span> {{ contact }}</p>{% endif %}
                {% if phone %}<p><span class="glyphicon glyphicon-earphone"></span> {{ phone }}</p>{% endif %}
                {% if email %}<p><span class="glyphicon glyphicon-send"></span> {{ email }}</p>{% endif %}
            </div>
        {% endif %}

        <script>
            'use strict';

            function postSize() {
                /**
                 * Send body height to the Cloud to adjust iframe height.
                 */
                const data = {'type': 'parsys_site_info', 'height': document.getElementsByClassName('site-info')[0].offsetHeight}; {# must be Integer #}
                const targetOrigin = '*';  {# or cloud_URL: http://localhost:6543 #}
                window.parent.postMessage(data, targetOrigin);
            }

            // Continue sending height on window resize as long lines can be split and change the iframe height.
            postSize();
            window.onresize = postSize;
        </script>
    </body>
</html>

